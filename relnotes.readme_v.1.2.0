Minor change

DESCRIPTION OF CHANGE:  

1. Switching from GFS to FV3GFS atmospheric forcing
2. Related improvements in air-sea fluxes interpolation.

BENEFIT OF CHANGE: 

1. Using FV3GFS forcing and more stable interpolation routines.

USER IMPACT STATEMENT:

1. Users will be impacted by the difference in the GFS and FV3GFS forcing. The 
   tests did not show large differences in the ocean state due to this change. 

TECHNICAL IMPACT STATEMENT:

1. No technical impact is anticipated.

RISKS:

1. Large then expected ocean impacts due to a limited duration of test with FV3GFS

PROPOSED IMPLEMENTATION
DATE: 
TIME:

IMPLEMENTATION INSTRUCTIONS:

IMPORTANT NOTE 1: RTOFS-Global v.1.2.0 works with rtofs_code and rtofs_shared version currently 
in production. They do not need to be re-built.


I. LOAD MODULES
---------------

I.1) git clone ssh://Simon.Hsiao@vlab.ncep.noaa.gov:29418/EMC_rtofs_shared  
     The result will be the directory EMC_rtofs_shared/modulelifies
     mv EMC_rtofs_shared/modulelifies /nw${envir}2/modulefiles.  
I.2) Replace RTOFS_GLO value in /nw${envir}2/modulefiles/RTOFS_GLO/v1.2.0 to /nw${envir}2/modulefiles.
I.3) Replace default ModulesVersion value in the RTOFS_GLO version file 
     /nw${envir}2/modulefiles/RTOFS_GLO/.version to v1.2.0
I.4) module use -a /nw${envir}2/modulefiles
     module load RTOFS_GLO/v1.2.0

IMPORTANT NOTE I.1: If the set-up will be first tested with envir=para or envir=test, then 
                    after switching to prod, the location of modulefiles and paths set-up 
                    in the modulefiles should be adjusted.
 

II. BUILD A PROJECT
-------------------

II.1)  Check out RTOFS_GLOBAL:
       git clone -b RB-1.2.0 git clone ssh://Simon.Hsiao@vlab.ncep.noaa.gov:29418/EMC_rtofs_glo_prod
       into/nw${envir}2
       The result will be the directory 
       /nw${envir}2/RB-1.2.0
II.2)  Rename the directory
       mv  /nw${envir}2/RB-1.2.0  /nw${envir}2/rtofs_glo.v1.2.0

III. COMPILE PROJECT SOURCE CODES
--------------------------------

For each CDIR= /nw${envir}2/rtofs_glo.v1.2.0/sorc/rtofs_*.fd directory:
       cd $CDIR
       make install

IV. SET-UP FIX FILES
---------------------

NOTE IV.1: fix files are too big to be part of VLAB repository. 

 cp -p  /ocean/noscrub/Ilya.Rivin/hycom_glo/projects/RB-1.2.0/fix* /nw${envir}2/rtofs_glo.v1.2.0/fix/.

V. SET-UP INITIAL CONDITIONS
----------------------------

ONLY if creating a parallel or test run

V.1) mkdir /com/rtofs/${envir] if necessary
V.2) ln -s /com/rtofs/prod/rtofs.YYYYMMDD /com/rtofs/${envir]/rtofs.YYYYMMDD for yesterday ($PDYm1)

VI. COMPUTER RESOURCES AND RUN-TIME ENVIRONMENT
------------------------------------------------

Computer resources and sample LSF command files  the same as for rtofs_glo.v1.1.4 currently in production. 

anal_pre:                                CPU time: 40 min.   Max. Memory: 18741 MB    Resources: rtofs_job_command_anal_pre.lsf                    
anal:                                    CPU time: 45 min. Max. Memory: 1142515 MB  Resources: rtofs_job_command_anal_grib_post.lsf
anal_post:                               CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_anal_post.lsf
anal_grib2_post:                         CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_anal_grib_post.lsf

fcst_step1_pre:                          CPU time: 18 min. Max. Memory: 10899 MB.   Resources: rtofs_job_command_fcst_step1_pre.lsf         
fcst_step1:                              CPU time: 80 min  Max. Memory: 1142552 MB. Resources: rtofs_job_command_fcst_step1.lsf                
fcst_post.01 - fcst_post.04:             CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_fcst_post.lsf
fcst_grib2_post.01 - fcst_grib2_post.03: CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_fcst_grib_post.lsf

fcst_step2_pre:                          CPU time: 18 min  Max. Memory: 10899 MB.   Resources: rtofs_job_command_fcst_step2_pre.lsf            
fcst_step2:                              CPU time: 80 min. Max. Memory: 1142552 MB. Resources: rtofs_job_command_fcst_step2.lsf             
fcst_post.00 - fcst_post.08:             CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_fcst_post.lsf
fcst_post_2:                             CPU time: 12 min. Max. Memory: 20030 MB.   Resources: rtofs_job_command_fcst_post.lsf
fcst_grib2_post.04 - fcst_grib2_post.06: CPU time: as prod Max. Memory: as prod     Resources: rtofs_job_command_fcst_grib_post.lsf

     
VI. JOB DEPENDENCIES
-------------------

VIII.1a) anal_pre:                                after GFS 00Z cycle is completed. 
VIII.1b) anal:                                    after 1a is completed
VIII.1c) anal_post:                               after 1b is completed
VIII.1d) anal_grib2_post:                         after 1b is completed

VIII.2a) fcst_step1_pre:                          after GFS 00Z cycle is completed.
VIII.2b) fcst_step1:                              after 1b is completed
VIII.2c) fcst_post.01 - fcst_post.04:             after 2b is completed
VIII.2d) fcst_grib2_post.01 - fcst_grib2_post.03: after 2b is completed

VIII.3a) fcst_step2_pre:                          after GFS 00Z cycle is completed.
VIII.3b) fcst_step2:                              after 2b is completed
VIII.3c) fcst_post.0 - fcst_post.08:              after 3b is completed
VIII.3d) fcst_grib2_post.04 - fcst_grib2_post.06: after 3b is completed
Viii.3f) fcst_post_2                              after 3b is completed

NOTE VI.1: At is assumed that for all most-processing jobs $job has the name structure 
           of the type job_*NN, where NN is two-digit number.
NOTE VI.2: GRIB2 post-processing for forecast is done only for the first 6 days.
